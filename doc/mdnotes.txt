*mdnotes.txt*         Markdown Notes for Neovim (mdnotes.nvim)

Authors:
    Yiannis Michael (yimich9963)
                                       Type |gO| to see the table of contents.

==============================================================================
INTRODUCTION						*mdnotes-intro*

Markdown Notes (mdnotes or Mdn) is a plugin that aims to improve the Neovim
Markdown note-taking experience by providing features like better Wikilink
support, adding/removing inline links to images/files/URLs, file history, asset
management, referencing, and formatting. All this without relying
on any LSP but using one is recommended.

Note: Ensure you create a backup of your notes before executing any big
commands!

==============================================================================
QUICK START            	             			*mdnotes-quickstart*

To setup `mdnotes` using the Lazy package manager, put this in your `init.lua` file,
>lua
    {
	"ymich9963/mdnotes.nvim",
    }

Can use either `opts` or `config` with the traditional `setup({})` function,
>lua
    {
	"ymich9963/mdnotes.nvim",
	opts = {
	    -- Config here
	}
	-- or
	config = {
	    require("mdnotes").setup({
		-- Config here
	    })
	}
    }
Explanation for the options is given in the next |mdnotes-config| section.
See |mdnotes-keymaps| for keymap recommendations, |mdnotes-lsp| for notes on
using LSPs with `mdnotes`, and |mdnotes-completion| for using file name
completion.

==============================================================================
KEYMAPS            	             			*mdnotes-keymaps*

The default keymaps are listed below and they can be enabled using 
|mdnotes-default_keymaps|. They follow a `<leader>m` prefix.
>lua
    vim.keymap.set('n', '<leader>mgx', ':Mdn inline_link open<CR>', { buffer = true, desc = "Open inline link URI under cursor" })
    vim.keymap.set('n', '<leader>mgf', ':Mdn wikilink follow<CR>', { buffer = true, desc = "Open markdown file from WikiLink" })
    vim.keymap.set('n', '<leader>mgrr', ':Mdn wikilink show_references<CR>', { buffer = true, desc = "Show references of link or buffer" })
    vim.keymap.set('n', '<leader>mgrn', ':Mdn wikilink rename_references<CR>', { buffer = true, desc = "Rename references of link or current buffer" })
    vim.keymap.set({"v", "n"}, "<leader>mk", ":Mdn inline_link toggle<CR>", { buffer = true, desc = "Toggle inline_link" })
    vim.keymap.set("n", "<leader>mh", ":Mdn history go_back<CR>", { buffer = true, desc = "Go to back to previously visited Markdown buffer" })
    vim.keymap.set("n", "<leader>ml", ":Mdn history go_forward<CR>", { buffer = true, desc = "Go to next visited Markdown buffer" })
    vim.keymap.set({"v", "n"}, "<leader>mb", ":Mdn formatting strong_toggle<CR>", { buffer = true, desc = "Toggle strong formatting" })
    vim.keymap.set({"v", "n"}, "<leader>mi", ":Mdn formatting emphasis_toggle<CR>", { buffer = true, desc = "Toggle emphasis formatting" })
    vim.keymap.set({"v", "n"}, "<leader>mt", ":Mdn formatting task_list_toggle<CR>", { buffer = true, desc = "Toggle task list status" })
    vim.keymap.set("n", "<leader>mp", ":Mdn heading previous<CR>", { buffer = true, desc = "Go to previous Markdown heading" })
    vim.keymap.set("n", "<leader>mn", ":Mdn heading next<CR>", { buffer = true, desc = "Go to next Markdown heading" })

Note: It is highly recommended you have your keymaps in your
`after/ftplugin/markdown.lua` file to keep them specific to Markdown files.

==============================================================================
LSP            	             				*mdnotes-lsp*

This plugin is designed to work with Markdown LSPs by trying to fill the gaps
and to also complement their current functionality. Please see the table in
the README for how `mdnotes` tries to work with LSPs and Neovim itself.

Quick tip is if you don't want your Markdown LSP to show diagnostics you can
disable LSP diagnostics per filetype by using this in your
`after/ftplugin/markdown.lua` file.
>lua
    vim.diagnostic.enable(false, { bufnr = 0 })

==============================================================================
COMPLETION            	         			*mdnotes-completion*

Built-in file path completion with Neovim can be used with `mdnotes` which
also means that you don't need an LSP for this either. Execute the completion
by typing the path and in insert mode pressing |i_CTRL-X_CTRL-F|.

For Windows, due to the square brackets being in |'isfname'|, you need to
remove them for autocompletion to work. Therefore I've setup this keymap so
that it gets and unset automatically on file completion. Place the snippet
below in your `after/ftplugin/markdown.lua`,
>lua
    vim.keymap.set("i", "<C-x><C-f>", "<cmd>set isfname-=[,]<CR><C-x><C-f><cmd>set isfname+=[,]<CR>",
    {
        desc = "Mdnotes i_CTRL-X_CTRL-F smart remap to allow path completion on Windows",
	buffer = true
    })

==============================================================================
CONFIG             	                     	      	*mdnotes-config*

The default config for `mdnotes` is shown below,
>lua
    {
	index_file = "",
	journal_file = "",
	assets_path = "",
	asset_insert_behaviour = "copy",
	asset_overwrite_behaviour = "error",
	open_behaviour = "buffer",
	strong_format = "**",
	emphasis_format = "*",
	date_format = "%a %d %b %Y",
	prefer_lsp = false,
	auto_list_continuation = true,
	default_keymaps = false,
	autocmds = true,
	table_best_fit_padding = 0,
	toc_depth = 4
	user_commands = {}
    }
<
index_file = `string`					*mdnotes-index_file*

    Can be any path to your index file which is then accessed by
    |:Mdn-index|.

journal_file = `string|fun():string`			*mdnotes-journal_file*

    Can be any path to your journal file which is then accessed by
    |:Mdn-journal|. It can also be a function to dynamically create a new
    journal files, e.g. for daily journalling. Example function below returns
    a string of `JOURNAL-ddmmyyyy.md`,
>lua
    local function daily_journal()
	return "JOURNAL-" .. vim.fn.strftime("%d%m%y") .. ".md"
    end
<
assets_path = `string|fun():string`			*mdnotes-assets_path*

    Can be any path to your assets folder. This is where any asset you insert
    by using |:Mdn-assets-insert_image| or |:Mdn-assets-insert_file| is copied or
    moved to. It can also be a function to determine the asset path
    dynamically. Example function below would return an assets path for the
    current directory, based on the containing folder. This would be useful
    for nested or multiple notes directories,
>lua
    local function dynamic_asset_folder()
	local cwd = require('mdnotes').cwd
	local folder = vim.fs.basename(cwd)

	return "assets-" .. foler
    end

asset_insert_behaviour = `string`			*mdnotes-asset_insert_behaviour*

    Can take the values of `"copy"` or `"move"` which copies or moves inserted
    assets respectively.

asset_overwrite_behaviour = `string`			*mdnotes-asset_overwrite_behaviour*

    Can take the values of `"error"` or `"overwrite"` which defines how the plugin 
    should handle existing assets. With `"error"` it throws an error and prevents
    the user from inserting the asset. With `"overwrite"` it will overwrite the
    conflicting file.

asset_delete_behaviour = `string`			*mdnotes-asset_delete_behaviour*

    Can take the values of `"remove"` or `"garbage"` which defines how the plugin 
    deletes the asset. With `"remove"` it completely deletes the file. With
    `"garbage"` it will move the file to a folder named `garbage`.

open_behaviour = `string`				*mdnotes-open_behaviour*

    Can take the values of `"buffer"`, `"tab"`, `"split"`, or `"vsplit"` which 
    defines how buffers are opened using |:Mdn-index|, |:Mdn-journal|, 
    and |:Mdn-wikilink-follow|. With `"buffer"` it opens them in the current
    buffer, `"tab"` it opens them in a new tab, `"split"` opens them in a
    horizontal split, and `"vsplit"` in a vertical tab.

strong_format = `string`				*mdnotes-strong_format*

    Can take the valid values of `"**"` or `"__"` which defines how the
    Markdown `**strong**` or `__strong__` formatting is executed.

emphasis_format = `string`				*mdnotes-emphasis_format*

    Can take the valid values of `"*"` or `"_"` which defines how the
    Markdown `*emphasis*` or `_emphasis_` formatting is executed.

date_format = `string`	 				*mdnotes-date_format*

    Format of the outputed date using |Mdn-journal_insert_entry|. See |strftime()| for
    acceptable formats.

prefer_lsp = `false|true`				*mdnotes-prefer_lsp*

    Choose whether to prefer to use the LSP functions instead of the `mdnotes`
    functions, when an LSP server is detected in the current Markdown buffer.

auto_list_continuation = `false|true`			*mdnotes-auto_list_continuation*

    Choose whether to allow automatic continuation of your unordered/ordered/
    task list. Works by remapping |<CR>|, |o|, and |O| but only in Markdown
    buffers by specifying it in the plugin's `after/ftplugin/markdown.lua`
    directory.

default_keymaps = `false|true`				*mdnotes-default_keymaps*

    Enable or disable the default keymaps listed in |mdnotes-keymaps|.

autocmds = `false|true` or `table`			*mdnotes-autocmds*

    Enable or disable the plugin's autocmds set in `plugin/mdnotes.lua`.
    Can be a boolean true/false for enabling or disabling all of them.
    If wanting to specify individual autocmds, use a table and specify
    as shown below,

    Parameters: ~
    • {opts}  `(table?)` Optional parameters:
              • {set_cwd} (`false|true`, default `true`)
		autocmd for path resolution
              • {record_buf} (`false|true`, default `true`)
		autocmd for buffer history
              • {populate_buf_fragments} (`false|true`, default `true`)
		autocmd for ToC fragments
              • {ordered_list_renumber} (`false|true`, default `true`)
		autocmd for ordered lists
              • {table_best_fit} (`false|true`, default `true`)
		autocmd for tables
              • {outliner_state_notification} (`false|true`, default `true`)
		autocmd for Outliner mode state notification. See
		|mdnotes-outliner|.
              • {journal_insert_entry} (`false|true`, default `true`)
		autocmd for inserting a journal entry automatically on
		entering the journal file in |mdnotes-journal_file|.

table_best_fit_padding = `integer`			*mdnotes-table_best_fit_padding*

    Number of spaces to add around the table cells when doing |Mdn-table_best_fit|.

toc_depth = `integer`		 			*mdnotes-toc_depth*

    Heading level depth to include when generating a Table of Contents using
    |Mdn-toc_generate|. For example setting this value to 2 would include only
    headings 1 and 2 from below,
>
    # Heading 1
    
    ## Heading 2
   
    ### Heading 3

user_commands = `table`		 			*mdnotes-user_commands*

    Custom user commands organised within the Mdn namespace unser the
    `:Mdn user` command. Example below,
>lua
     user_commands = {
        example = function() vim.notify("Mdn: This is an example command in the Mdnotes namespace") end
    }

==============================================================================
COMMANDS                                         	*mdnotes-commands*

The Mdnotes plugin uses subcommands through calling `:Mdn <sub command>`. The
subcommands are listed below.

:Mdn index	 	                              	*:Mdn-index*

    Opens the index file depending on |mdnotes-open_behaviour|

:Mdn journal 	                                      	*:Mdn-journal*

    Opens the journal file depending on |mdnotes-open_behaviour|

:Mdn outliner toggle					*:Mdn-outliner-toggle*

    Toggle an Outliner mode (similar to programs like Logseq). This command
    essentially creates or deletes certain keymaps to create the Outliner mode.
    Indentation is also changed to use the outliner indentation commands
    |Mdn-outliner-indent| and |Mdn-outliner-unindent|. See |mdnotes-outliner|.

:Mdn outliner indent					*:Mdn-outliner-indent*

    Indents the bulleted list using the indentation of the parent child items.
    For example,
>
    - Parent
    - Parent
	- Child
	- Child
<
    when indenting the second `Parent` using the command,
>
    - Parent
	- Parent
	    - Child
	    - Child
	
:Mdn outliner unindent					*:Mdn-outliner-unindent*

    Unindents the bulleted list using the indentation of the parent child items.
    For example,
>
    - Parent
	- Child or Parent
	    - Child
	    - Child
<
    when unindenting the second `Parent` using the command,
>
    - Parent
    - Child or Parent
	- Child
	- Child
	
:Mdn wikilink follow 					*:Mdn-wikilink-follow*

    Open the Wikilink (e.g. `[[link]]` or `[[link#fragment]]`) under the cursor. 

:Mdn wikilink create 					*:Mdn-wikilink-create*

    Create a WikiLink by highlighting or hovering over a word and executing. 

:Mdn wikilink show_references 				*:Mdn-wikilink-show_references*

    Show the references of the current Wikilink under cursor in a quickfix
    list. If no Wikilink is under the cursor it shows the references to the
    current buffer.

:Mdn wikilink rename_references				*:Mdn-wikilink-rename_references*

    Rename the reference to a `[[link]]` and also the file pointing to that
    link. If executed when not hovering over a link, it will prompt to rename
    current buffer and file references.

:Mdn wikilink undo_rename				*:Mdn-wikilink-undo_rename*

    Undo the most recent reference rename. Only available when 
    `prefer_lsp = false`. 

:Mdn wikilink delete					*:Mdn-wikilink-delete*

    Delete WikiLink under the cursor.

:Mdn wikilink normalize					*:Mdn-wikilink-normalize*

    Normalize WikiLink path under cursor.

:Mdn wikilink find_orphans				*:Mdn-wikilink-find_orphans*

    Show orphan pages (pages with no references) in current directory.

:Mdn assets insert_image				*:Mdn-assets-insert_image*

    Insert the image in the clipboard under the cursor and depending on
    |mdnotes-asset_insert_behaviour| place it in your |mdnotes-assets_path|. (e.g
    `![image](path/to/assets/image.png)`). Overwriting depends on
    |mdnotes-asset_overwrite_behaviour|.

:Mdn assets insert_file					*:Mdn-assets-insert_file*

    Exactly the same as |Mdn-assets-insert_image| but it inserts a inline link to the
    file (e.g. `[file](path/to/assets/file.txt)`).

:Mdn assets unused_delete				*:Mdn-assets-unused_delete*

    Cleanup unused assets in your |mdnotes-assets_path|. A |vim.ui.input()|
    will be used to prompt for `y/n/a(ll)` or `cancel` deletion actions. Uses
    |vim.fs.rm()|.

    Note: Data loss will obviously happen with this command so BE CAREFUL.

:Mdn assets unused_move					*:Mdn-assets-unused_move*

    Move unused assets in your |mdnotes-assets_path| to an `../unused_assets/` 
    folder relative to your assets folder. A |vim.ui.input()| will be used 
    to prompt for `y/n/a(ll)` or `cancel` deletion actions. Uses |vim.fs.rm()|.

:Mdn assets open_containing_folder			*:Mdn-assets-open_containing_folder*

    Open your assets folder declared in |mdnotes-assets_path|.

:Mdn assets download_website_html			*:Mdn-assets-download_website_html*

    Download the HTML of the website in the inline link, and place it in the
    assets folder. 

:Mdn assets delete					*:Mdn-assets-delete*

    Delete the asset in the inline link under the cursor. Behaviour depends on
    |mdnotes-asset_delete_behaviour|.

:Mdn history go_back					*:Mdn-history-go_back*

    Go back to the previously visited Markdown buffer.

:Mdn history go_forward					*:Mdn-history-go_forward*

    Go forward to the Markdown buffer you were in before you went back.

:Mdn history clear					*:Mdn-history-clear*

    Clear the history of visited Markdown buffers.

:Mdn inline_link open					*:Mdn-inline_link-open*

    Opens the asset under the cursor. Uses |vim.ui.open()| but due to a bug for
    Winows it's currently using, >lua
	vim.system({"cmd.exe", "/c", "start", link}) 

:Mdn inline_link toggle					*:Mdn-inline_link-toggle*

    Toggle inserting and deleting a inline link (e.g. `[text](link)`) from your
    clipboard (the `"+` register). When removing a link it saves it to `"0`
    for later use.

:Mdn inline_link rename					*:Mdn-inline_link-rename*

    Rename the link text.

:Mdn inline_link relink					*:Mdn-inline_link-relink*

    Re-link the inline link.

:Mdn inline_link normalize				*:Mdn-inline_link-normalize*

    Execute |vim.fs.normalize()| on the inline link below the cursor and also
    add < and > if the link contains spaces.

:Mdn inline_link validate				*:Mdn-inline_link-validate*

    Validate any inline link without opening it to ensure it has a valid
    destination.

:Mdn inline_link convert_fragment_to_gfm		*:Mdn-inline_link-convert_fragment_to_gfm*

    Convert an inline link with a fragment to a GFM-style fragment. Useful when
    using LSP auto-completion and you want to create valid Markdown links on
    GitHub.

:Mdn formatting strong_toggle				*:Mdn-formatting-strong_toggle*

    Toggle Markdown `**strong**` syntax. Select a word and execute the command
    or hover over already strong text to remove.

:Mdn formatting emphasis_toggle				*:Mdn-formatting-emphasis_toggle*

    Toggle Markdown `*emphasis*` syntax. Select a word and execute the command
    or hover over already strong text to remove.

:Mdn formatting strikethrough_toggle			*:Mdn-formatting-strikethrough_toggle*

    Toggle Markdown `~~strikethrough~~` syntax. Select a word and execute the 
    command or hover over already strong text to remove.

:Mdn formatting inline_code_toggle			*:Mdn-formatting-inline_code_toggle*

    Toggle Markdown `inline code` (``) syntax. Select a word and execute the command
    or hover over already strong text to remove.

:Mdn formatting autolink_toggle				*:Mdn-formatting-autolink_toggle
*
    Toggle Markdown `<autolink>` (<>) syntax. Select a word and execute the command
    or hover over already strong text to remove.

:Mdn formatting task_list_toggle			*:Mdn-formatting-task_list_toggle*

    Toggle through checked, unchecked, and no checkbox in a list item. Also works
    with |linewise-visual|.

:Mdn formatting ordered_list_renumber			*:Mdn-formatting-ordered_list_renumber*

    Renumber an ordered list.

:Mdn formatting unformat_lines				*:Mdn-formatting-unformat_lines*

    Unformat the current line or the selected lines. Removes format indicators
    for strong, emphasis, strikethrough, inline code, heading, inline link,
    ordered list, unordered list, and task.

:Mdn journal insert_entry				*:Mdn-journal-insert_entry*

    Insert at the top of the file the current date and time along with a separator.
    Useful when using a journal. Gets called automatically when using its
    corresponding autocmd (|mdnotes-autocmds|).

:Mdn toc generate {depth}				*:Mdn-toc-generate*

    Generate and insert a Table Of Contents of the current file at the cursor 
    position. Optionally specify the {depth} of the ToC in the command or
    specify the default size with |mdnotes-toc_depth|.

:Mdn table create {rows} {cols}				*Mdn-table-create*

   Create a table of the size {rows} x {cols}. It will get populated with
   `ROWrCOLc` text automatically. This is to activate the parsers so that the
   table looks nice on generation. For example on a 3 x 3 table, it would be, 
>
    |1r1c|1r2c|1r3c|
    |----|----|----|
    |2r1c|2r2c|2r3c|
    |3r1c|3r2c|3r3c|

:Mdn table best_fit					*Mdn-table-best_fit*

   Set the best fit for the table columns so that all cell borders line up.
   Can also add padding to your cells. See |mdnotes-table_best_fit_padding|.
   Uses the |ModeChanged| event to preserve undo history.

:Mdn table column_insert_left				*Mdn-table-column_insert_left*

   Insert a column to the left of the current column you're in.

:Mdn table column_insert_right				*Mdn-table-column_insert_right*

   Insert a column to the right of the current column you're in.

:Mdn table column_move_left				*Mdn-table-column_move_left*

   Move the current column to the left.

:Mdn table column_move_right				*Mdn-table-column_move_right*

   Move the current column to the right.

:Mdn table column_delete 				*Mdn-table-column_delete*

   Delete current column.

:Mdn table column_alignment_toggle			*Mdn-table-column_alignment_toggle*

   Cycle through the left, right and centre alignments in the Markdown table.

:Mdn table column_duplicate				*Mdn-table-column_duplicate*

   Duplicate the current column.

:Mdn table row_insert_above				*Mdn-table-row_insert_above*

   Insert a row to above the current row.

:Mdn table row_insert_below				*Mdn-table-row_insert_below*

   Insert a row to below the current row.

:Mdn table column_sort_ascending			*Mdn-table-column_sort_ascending*

   Sort table in ascending order by the current column.

:Mdn table column_sort_descending			*Mdn-table-column_sort_descending*

   Sort table in descending order by the current column.

:Mdn heading previous					*Mdn-header-previous*

   Go to the previous Markdown heading. Wraps around.

:Mdn heading next					*Mdn-header-next*

   Go to the next Markdown heading. Wraps around.

:Mdn miscellaneous set_cwd				*Mdn-miscellaneous-set_cwd*

   Set the Mdnotes cwd variable to the current working directory. Happens
   automatically if its option in |mdnotes-autocmds| is set.

:Mdn miscellaneous record_buf				*Mdn-miscellaneous-record_buf*

   Record current buffer number to the buffer history. Happens automatically
   if its option in |mdnotes-autocmds| is set.

:Mdn miscellaneous populate_buf_fragments		*Mdn-miscellaneous-populate_buf_fragments*

   Update or populate the `toc.buf_fragments` table containing the fragments
   for the current buffer. Happens automatically if its option in
   |mdnotes-autocmds is set.

:Mdn miscellaneous open_containing_folder		*Mdn-miscellaneous-open_containing_folder*

   Open the current file's containing folder.

:Mdn user						*Mdn-user*

   Access the user defined commands. See |mdnotes-user_commands|.

==============================================================================
API                                     		*mdnotes-api*

In `mdnotes` most of the commands are just calling their corresponding functions.
Some of the descriptions here are copied from the |mdnotes-commands| section.
See |mdnotes-api-examples| for examples using the API.

setup({opts})                                          	*mdnotes.setup()*

    Configure installation with non-default options. Not needed if using
    defaults. See |mdnotes-config| for a more in-depth explanation.

    Parameters: ~
    • {opts}  `(table?)` Optional parameters:
              • {index_file} (`string?`, default `""`)
		path to index file.
              • {journal_file} (`(string|fun():string)?`, default `""`)
		path to journal file or function returning a string value.
              • {assets_path} (`string?`, default `""`)
		path to assets directory.
              • {asset_insert_behaviour} (`string?`, default `"copy"`)
		`mdnotes` behaviour when inserting files.
              • {asset_overwrite_behaviour} (`string?`, default `"copy"`)
		`mdnotes` behaviour when inserting files and the file 
		already exists.
              • {open_behaviour} (`string?`, default `"buffer"`)
		`mdnotes` behaviour when opening files with |:Mdn-open|.
              • {strong_format} (`string?`, default `"**"`)
		defines `mdnotes` strong formatting behaviour
              • {emphasis_format} (`string?`, default `"*"`)
		defines `mdnotes` emphasis formatting behaviour
              • {date_format} (`string?`, default `"%a %d %b %Y"`)
		defines the date format used when inserting a journal entry.
		See |strftime|.
              • {prefer_lsp} (`false|true`, default `false`)
		prefer using the installed Markdown LSP functions instead of
		the `mdnotes` implementations.
              • {auto_list_continuation} (`false|true`, default `true`)
		auto-continue Markdown lists. See |mdnotes-auto_list_continuation|.
              • {default_keymaps} (`false|true`, default `false`)
		use the default keymaps.
              • {autocmds} (`false|true` or `table`, default `true`)
		use the plugin's autocmds.
              • {table_best_fit_padding} (`integer?`, default `0`)
		how much padding to add when executing 
		|Mdn-table-best_fit|.
              • {toc_depth} (`integer?`, default `4`)
		the depth of the ToC when using |Mdn-toc-generate|.

go_to_index_file() 			   		*mdnotes.go_to_index_file()*

    Go the index file defined by |mdnotes-index_file|.

go_to_journal_file()					*mdnotes.go_to_journal_file()*

    Go the journal file defined by |mdnotes-journal_file|.

journal_insert_entry()					*mdnotes.journal_insert_entry()*

    Insert a journal entry at the top of the file, which is the current date 
    along with a separator to separate the different entries. Places the 
    cursor on `<cursor>`. For example,
>markdown
    ```
    ## Sun 09 Nov 2025

    <cursor>

    ---
    ```

open() 							*mdnotes.open()*

    Open the inline link under cursor. It can be a file or a URL.

outliner.toggle()					*mdnotes.outliner.toggle()*

    Toggle an Outliner mode (similar to programs like Logseq). This command
    essentially creates or deletes certain keymaps to create the Outliner mode.
    Indentation is also changed to use the outliner indentation commands
    |Mdn-outliner-indent| and |Mdn-outliner-unindent|. See |mdnotes-outliner|.

outliner.indent()					*mdnotes.outliner.indent()*

    Indents the bulleted list using the indentation of the parent child items.
    See |mdnotes-outliner|.
	
outliner.unindent()					*mdnotes.outliner.unindent()*

    Unindents the bulleted list using the indentation of the parent child
    items. See |mdnotes-outliner|.

wikilink.follow()					*mdnotes.wikilink.follow()*

    Open the Wikilink (e.g. `[[link]]` or `[[link#fragment]]`) under the cursor. 

wikilink.create()					*mdnotes.wikilink.create()*

    Create a WikiLink by highlighting or hovering over a word and executing. 

wikilink.show_references()				*mdnotes.wikilink.show_references()*

    Show the references of the current Wikilink under cursor in a quickfix
    list. If no Wikilink is under the cursor it shows the references to the
    current buffer.

wikilink.rename_references()				*mdnotes.wikilink.rename_references()*

    Rename the reference to a `[[link]]` and also the file pointing to that
    link.

wikilink.rename_references_cur_buf()			*mdnotes.wikilink.rename_references_cur_buf()*

    Rename references to current buffer and also the file of the current
    buffer.

wikilink.undo_rename()					*mdnotes.wikilink.undo_rename()*

    Undo the most recent reference rename. Only available when 
    `prefer_lsp = false`. 

wikilink.delete()					*mdnotes.wikilink.delete()*

    Delete WikiLink under the cursor.

wikilink.normalize()					*mdnotes.wikilink.normalize()*

    Normalize WikiLink path under cursor.

wikilink.find_orphans()					*mdnotes.wikilink.find_orphans()*

    Show orphan pages (pages with no references) in current directory.

formatting.check_md_format({pattern}) 			*mdnotes.formatting.check_md_format()*

    Check if the text under cursor obeys a Lua pattern that is used to
    describe Markdown formatting. Patterns used are the
    |mdnotes.format_patterns|.

    Parameters: ~
    • {pattern}  `(string?)` A Lua pattern that also returns cursor position
      at the start and end.

    Return: ~
      (`false|true`)

assets.check_assets_path() 				*mdnotes.assets.check_assets_path()*

    Check the existance of the |mdnotes-assets_path| when inserting images or
    files.

    Return: ~
      (`false|true`)

assets.insert_image()					*mdnotes.assets.insert_image()*

    Insert the image in the clipboard under the cursor and depending on
    |mdnotes-asset_insert_behaviour| place it in your |mdnotes-assets_path|. (e.g
    `![image](path/to/assets/image.png)`). Overwriting depends on
    |mdnotes-asset_overwrite_behaviour|.


assets.insert_file()					*mdnotes.assets.insert_file()*

    Exactly the same as |mdnotes.insert_image()| but it inserts a inline link to the
    file (e.g. `[file](path/to/assets/file.txt)`).

assets.unused_delete()					*mdnotes.assets.unused_delete()*

    Cleanup unused assets in your |mdnnote-assets_path|. A |vim.ui.input()|
    will be used to prompt for `y/n/a(ll)` or `cancel` deletion actions. Uses
    |vim.fs.rm()|.

    Note: Data loss will obviously happen with this command so BE CAREFUL.

assets.unused_move()					*mdnotes.assets.unused_move()*

    Move unused assets in your |mdnnote-assets_path| to an `../unused_assets/` 
    folder relative to your assets folder. A |vim.ui.input()| will be used 
    to prompt for `y/n/a(ll)` or `cancel` move actions. Uses |uv.fs_rename()|.

assets.open_containing_folder()				*mdnotes.assets.open_containing_folder()*

    Open your assets folder declared in |mdnotes-assets_path|.

assets.download_website_html()				*mdnotes.assets.download_website_html()*

    Download the HTML of the website in the inline link, and place it in the
    assets folder. 

history.buf_history					*mdnotes.history.buf_history*

    Table containing the sequential buffer history of the visited Markdown
    buffers. It gets populated through an `autocmd` on a `BufEnter` event. If
    the user goes back and then goes forward to buffer that they were not
    previously in, the buffer history removes everything past the buffer they
    went back to, and appends the buffer they've moved forward to.

history.current_index					*mdnotes.history.current_index*

    Current index being pointed to in the |mdnotes.buf_history| table. 

history.go_back()					*mdnotes.history.go_back()*

    Go back in the buffer history. Essentially move the index by -1. See
    |mdnotes.buf_history|.

history.go_forward()					*mdnotes.history.go_forward()*

    Go forward in the buffer history. Essentially move the index by +1. See
    |mdnotes.buf_history|.

history.clear()						*mdnotes.history.clear()*

    Clear the |mdnotes.buf_history| table.

inline_link.insert()					*mdnotes.inline_link.insert()*

    Insert a inline link from the clipboard using the currently highlighted
    text or the word under cursor. Uses the `"+` register to paste from
    clipboard.

inline_link.delete()					*mdnotes.inline_link.delete()*

    Remove the inline link from the current inline link under the cursor.
    Saves the link text in the `"0` register and the link in the `"+` register.
    This allows it to be reused when inserting again.

inline_link.rename()					*mdnotes.inline_link.rename()*

    Rename the link text.

inline_link.relink()					*mdnotes.inline_link.relink()*

    Re-link the inline link.

inline_link.normalize()					*mdnotes.inline_link.normalize()*

    Execute |vim.fs.normalize()| on the inline link below the cursor and also
    add < and > if the link contains spaces.

inline_link.validate([{internal_call}, {norm}])		*mdnotes.inline_link.validate()*

    Validate any inline link without opening it. Gets called internally for
    |Mdn-open| with `internal_call = true`.

    Parameters: ~
    • {internal_call}  (`false|true?`) Specify whether the function is called
      internally or externally by the user.
    • {norm}  (`false|true?`) Specify whether |mdnotes.inline_link.normalize()
      is used.

    Return: ~
    • (`nil`) on failure.
    • (`table`) which is the link text, destination URI, file path, and fragment, start 
      column of link, and end column of link on success.

inline_link.convert_fragment_to_gfm()			*mdnotes.inline_link.convert_fragment_to_gfm()*

    Convert an inline link with a fragment to a GFM-style fragment. Useful when
    using LSP auto-completion and you want to create valid Markdown links on
    GitHub.

formatting.inline_link.toggle()				*mdnotes.formatting.inline_link-toggle()*

    Toggle adding or removing the inline link. When adding it uses
    |mdnotes.inline_link-insert()| and when removing it uses
    |mdnotes.inline_link-delete()|.

formatting.strong_toggle()				*mdnotes.formatting.strong_toggle()*

    Toggle Markdown `**strong**` syntax. Select a word and execute the command
    or hover over already strong text to remove.

formatting.emphasis_toggle()				*mdnotes.formatting.emphasis_toggle()*

    Toggle Markdown `*emphasis*` syntax. Select a word and execute the command
    or hover over already strong text to remove.

formatting.strikethrough_toggle()			*mdnotes.formatting.strikethrough_toggle()*

    Toggle Markdown `~~strikethrough~~` syntax. Select a word and execute the 
    command or hover over already strong text to remove.

formatting.inline_code_toggle()				*mdnotes.formatting.inline_code_toggle()*

    Toggle Markdown `inline code` (``) syntax. Select a word and execute the command
    or hover over already strong text to remove.

formatting.autolink_toggle()				*mdnotes.formatting.autolink_toggle()*

    Toggle Markdown `<autolink>` (<>) syntax. Select a word and execute the command
    or hover over already strong text to remove.

formatting.task_list_toggle({line1}, {line2})		*mdnotes.formatting.task_list_toggle()*

    Toggle through checked, unchecked, and no checkbox in a list item. Also works
    with |linewise-visual|.

    Parameters: ~
    • {line1}  `(integer?)` Starting line number.
    • {line2}  `(integer?)` Ending line number.

formatting.ordered_list_renumber({silent})		*mdnotes.formatting.ordered_list_renumber()*

    Renumber an ordered list starting from 1.

    Parameters: ~
    • {silent}  `(false|true)` Enable or disable error notifications from this
      function. Used in autocmd.

formatting.unformat_lines({line1}, {line2})		*mdnotes.formatting.unformat_lines()*

    Unformat the current line or the selected lines. Removes format indicators
    for strong, emphasis, strikethrough, inline code, heading, inline link,
    ordered list, unordered list, and task.

    Parameters: ~
    • {line1}  `(integer?)` Starting line number.
    • {line2}  `(integer?)` Ending line number.

toc.generate()						*mdnotes.toc.generate()*

    Generate and insert a Table Of Contents of the current file at the cursor
    position.

table.create({rows}, {cols})				*mdnotes.table.create()*

   Create a table of the size {rows} x {cols}. It will get populated with
   `ROWrCOLc` text automatically. This is to activate the parsers so that the
   table looks nice on generation. For example on a 3 x 3 table, it would be, 
>
    |1r1c|1r2c|1r3c|
    |----|----|----|
    |2r1c|2r2c|2r3c|
    |3r1c|3r2c|3r3c|

table.best_fit()					*mdnotes.table.best_fit()*

   Set the best fit per column of your table so that they are all even.

table.column_insert_left()				*mdnotes.table.column_insert_left()*

   Insert a column to the left of the current column you're in.

table.column_insert_right()				*mdnotes.table.column_insert_right()*

   Insert a column to the right of the current column you're in.

table.column_move_left()				*mdnotes.table.column_move_left()*

   Insert a column to the left of the current column you're in.

table.column_move_right()				*mdnotes.table.column_move_right()*

   Insert a column to the right of the current column you're in.

table.column_delete()					*mdnotes.table.column_delete()*

   Delete current column.

table.column_alignment_toggle()				*mdnotes.table.column_alignment_toggle()*

   Cycle through the left, right and centre alignments in the Markdown table.

table.column_duplicate()				*mdnotes.table.column_duplicate()*

   Cycle through the left, right and centre alignments in the Markdown table.

table.row_insert_above()				*mdnotes.table.row_insert_above()*

   Insert a row to above the current row.

table.row_insert_below()				*mdnotes.table.row_insert_below()*

   Insert a row to below the current row.

table.column_sort_ascending()				*mdnotes.table.column_sort_ascending()*

   Sort table in ascending order by the current column.

table.column_sort_descending()				*mdnotes.table.column_sort_descending()*

   Sort table in descending order by the current column.

table.column_sort({comp})				*mdnotes.table.column_sort_descending()*

   Sort table by the current column based on the {comp}. See
   |table.sort()| for the type of function expected.

heading.goto_previous()					*mdnotes.heading.goto_previous()*

   Go to the previous Markdown heading.

heading.goto_next()					*mdnotes.heading.goto_next()*

   Go to the next Markdown heading.

patterns						*mdnotes.patterns*

    Format patterns are Lua patterns used to detect the existance of those
    formats at the current cursor position. The patterns must return start
    and end cursor positions (e.g. `"()~~(.-)~~()"`). 
    See |mdnotes.check_md_format()|

==============================================================================
API EXAMPLES                                  		*mdnotes-api-examples*

Some examples are listed below for using the API in different scenarios. If
you want to use these as functions within the `Mdn` namespace then you would
add them as a `{command = function}` table in |mdn-user_commands|.

Toggling `emphasis` on all occurences of the word `balls` in a document.
>lua
    local function emphasis_toggle_balls()
	vim.cmd.vimgrep({ args = {"/balls/", "%"}})
	local qflist = vim.fn.getqflist()
	local emphasis_toggle = require('mdnotes.formatting').emphasis_toggle
	for _, v in pairs(qflist) do
	    emphasis_toggle({ location = {
		lnum = v.lnum,
		col_start = v.col,
		col_end = v.end_col,
	    }
	})
	end
    end
<

==============================================================================
OUTLINER                                     		*mdnotes-outliner*

An Outliner mode is implemented in `mdnotes` that aims to replicate behaviour
of outliner applications such as Logseq. See the link below for an explanation
of how Logseq's indentation works.

https://discuss.logseq.com/t/what-is-indentation-and-why-does-it-matter-in-logseq/8438

This behaviour is almost fully replicated using the |:Mdn-outliner-indent| and
|:Mdn-outliner-unindent| commands.

For example, in this text below,
>
    - Parent
    - Parent
	- Child
	- Child
<
when indenting the second `Parent` using the command it should become,
>
    - Parent
	- Parent
	    - Child
	    - Child

and when unidenting the new child (the previous parent), it should go from,
>
    - Parent
	- Child or Parent
	    - Child
	    - Child
<
to,
>
    - Parent
    - Child or Parent
	- Child
	- Child

However in a case like this below,
>
    - Parent
    - Parent
    - Parent
<
each Parent would be indented individually.

When using Outliner mode with |:Mdn-outliner-toggle| the indenting commands
are mapped to the widely used `<TAB>` and `<S-TAB>` for indenting and
unindenting respectively. The |mdnotes-auto_list_continuation| state is also
saved, and when entering the Outliner mode it is changed to true and
reverted back to the config entry when exiting Outliner mode by re-toggling.

A state message with the text `-- MDN OUTLINER --` is also shown at every
|CursorMoved| event, to remind the user they are in Outliner mode.

==============================================================================
TIPS                                     		*mdnotes-tips*

`mdnotes` tries to integrate with stock Neovim as much as possible, and through trying
to create a great note-writing experience in Neovim, I came across some great built-in
Neovim features that are defitely useful when taking any kind of notes. I've listed
them below, and I'll update this list as I find out more. Contributions are welcome!

							*mdnotes-repeating-last-command*
Use `@:` to repeat your last used command, see `:h @:`.

This one is especially useful if you are executing a toggle command like
`:Mdn formatting task_list_toggle` when you want to quickly execut the command multiple
times.

							*mdnotes-find-and-replace*
An easy way to search your entire notes directory without any external tools is `vimgrep`,
see `:h vimgrep`. It uses the Vim patterns and populates the quickfix list (`:h quickfix`)
which you can then use to execute commands on the results. For example,
>vim
    :vimgrep /balls/ **
<
would look for the word `balls` in all directories, from the current working directory;
this is noted by the `**`. Once the quickfix list is populated, you can browse it with
`:copen` and pressing `<CR>` on each result would take you to its location. With this list
you can use `:cdo` to execute a command over all of the results. For example, to replace
all occurences of the word `balls` with `dict`, you would do,
>vim
    :vimgrep /balls/ **
<
							*mdnotes-tags*
An obvious use-case for this is with tags, therefore you can use the above example to
search for notes with the corresponding tag,
>vim
    :vimgrep /#politics/ **
<
							*mdnotes-finding-files*
The `:find` command is great for finding files in a directory with a not-so-large number
of files. If you use this option, it will automatically look in all subdirectories when
called, 
>lua
    vim.opt.path:append{"**"} -- Use :find for all subdirectories
<
but you can also call it as `:find **` and when you press `<Tab>`, it will autocomplete with
the directories.

							*mdnotes-indenting*
To indent in INSERT mode use |i_CTRL+T| and |i_CTRL+D| and to indent in NORMAL mode
use |<<| and |>>|. The ones in insert mode are commonly mapped to |<TAB>| and |<S-TAB>|
since that is a very common mapping in other programs.

In `mdnotes` there are the |:Mdn-outliner-indent| and |:Mdn-outliner-unindnet| commands 
which provide the same indenting functionality but also execute a more outliner-style
indenting when using nested lists. This was inspired by applications such as Logseq.

vim:tw=78:ts=8:expandtab:noet:ft=help:norl:
